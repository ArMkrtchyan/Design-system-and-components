Index: component/src/main/java/am/acba/component/phoneNumberInput/CountryBottomSheetDialog.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package am.acba.component.phoneNumberInput\r\n\r\nimport am.acba.component.databinding.CountryBottomSheetBinding\r\nimport android.content.DialogInterface\r\nimport android.os.Bundle\r\nimport android.text.Editable\r\nimport android.text.TextWatcher\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport androidx.fragment.app.FragmentManager\r\nimport com.google.android.material.bottomsheet.BottomSheetBehavior\r\nimport com.google.android.material.bottomsheet.BottomSheetDialog\r\nimport com.google.android.material.bottomsheet.BottomSheetDialogFragment\r\n\r\n\r\nclass CountryBottomSheetDialog() : BottomSheetDialogFragment() {\r\n    private lateinit var _binding: CountryBottomSheetBinding\r\n    private val binding get() = _binding\r\n\r\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\r\n        _binding = CountryBottomSheetBinding.inflate(inflater, container, false)\r\n        binding.btnClose.setOnClickListener { dismiss() }\r\n        val countriesList = arguments?.getParcelableArrayList<CountryModel>(\"CountriesList\")\r\n        setupAdapter(countriesList as ArrayList)\r\n        return binding.root\r\n    }\r\n\r\n    override fun onCreateDialog(savedInstanceState: Bundle?): BottomSheetDialog = BottomSheetDialog(requireContext(), theme).apply {\r\n        behavior.state = BottomSheetBehavior.STATE_EXPANDED\r\n        behavior.isDraggable = false\r\n    }\r\n\r\n\r\n    companion object {\r\n        private var instance: CountryBottomSheetDialog? = null\r\n        fun show(\r\n            fragmentManager: FragmentManager,\r\n            bundle: Bundle? = null,\r\n            action: ((CountryModel) -> Unit)? = null,\r\n        ): CountryBottomSheetDialog {\r\n            if (instance == null) {\r\n                instance = CountryBottomSheetDialog().apply { arguments = bundle;mAction = action }\r\n                instance?.show(fragmentManager, CountryBottomSheetDialog::class.java.simpleName)\r\n            }\r\n            return instance as CountryBottomSheetDialog\r\n        }\r\n    }\r\n\r\n    private fun setupAdapter(countriesList: List<CountryModel>) {\r\n        val countriesAdapter = CountriesAdapter(::selectCountry, countriesList)\r\n        binding.rvCountries.apply {\r\n            adapter = countriesAdapter\r\n        }\r\n    }\r\n\r\n    override fun onDismiss(dialog: DialogInterface) {\r\n        instance = null\r\n        super.onDismiss(dialog)\r\n    }\r\n\r\n    private fun selectCountry(country: CountryModel) {\r\n        mAction?.invoke(country)\r\n        dismiss()\r\n    }\r\n\r\n    private var mAction: ((CountryModel) -> Unit?)? = null\r\n}\r\n
===================================================================
diff --git a/component/src/main/java/am/acba/component/phoneNumberInput/CountryBottomSheetDialog.kt b/component/src/main/java/am/acba/component/phoneNumberInput/CountryBottomSheetDialog.kt
--- a/component/src/main/java/am/acba/component/phoneNumberInput/CountryBottomSheetDialog.kt	
+++ b/component/src/main/java/am/acba/component/phoneNumberInput/CountryBottomSheetDialog.kt	
@@ -27,7 +27,7 @@
     }
 
     override fun onCreateDialog(savedInstanceState: Bundle?): BottomSheetDialog = BottomSheetDialog(requireContext(), theme).apply {
-        behavior.state = BottomSheetBehavior.STATE_EXPANDED
+        behavior.setState(BottomSheetBehavior.STATE_COLLAPSED)
         behavior.isDraggable = false
     }
 
